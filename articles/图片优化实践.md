# 图片优化实践

在web被设计之初，其仅被设计用来承载文本与图片，且在当下，基本没有哪个网站不存在图片。所以对于图片的优化则越发重要，而且由于其优化成本低，优化效果好，往往也是优化的重头戏。

## 了解图片资源加载与渲染时机

具体分析请看参考文章：[Web图片资源的加载与渲染时机](https://segmentfault.com/a/1190000010032501)

粗浅的归类一下就是，img标签上的图片不管显不显示都会先被加载，而样式表中的只有当元素在渲染树上才会被加载，需要注意的是`display:none;`的元素在渲染树上，而其子节点不在，所以给`display:none;`的元素设置背景图能加载，而其子元素的背景图不会加载。

另一个点则是加载时机，img标签上的图片资源在dom树解析时解析到img标签就会发出请求，而样式表上的图片资源则需要在合并渲染树时才会发出，时机上样式表的背景图加载会慢一些。

所以如果是比较重要的首图，建议还是放在img标签加载，或者使用 [Resource Hints](./Resource Hints介绍.md) 进行加载。

## 各种图片类型选择

## 参考链接

[Web图片资源的加载与渲染时机](https://segmentfault.com/a/1190000010032501)
